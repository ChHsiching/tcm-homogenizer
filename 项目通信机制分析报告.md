# é¡¹ç›®é€šä¿¡æœºåˆ¶åˆ†ææŠ¥å‘Š

## ğŸ“Š é¡¹ç›®æ•´ä½“çŠ¶æ€åˆ†æ

### 1. åç«¯æœåŠ¡çŠ¶æ€

#### âœ… åç«¯æœåŠ¡è¿è¡Œæ­£å¸¸
- **æœåŠ¡åœ°å€**: `http://127.0.0.1:5000`
- **è¿è¡ŒçŠ¶æ€**: âœ… æ­£å¸¸è¿è¡Œ
- **å¯åŠ¨æ—¶é—´**: 2025-08-03 19:00:45
- **æœåŠ¡ç±»å‹**: Flask WebæœåŠ¡
- **è°ƒè¯•æ¨¡å¼**: å…³é—­
- **è¿›ç¨‹ID**: 120950

#### ğŸ“ åç«¯æ—¥å¿—åˆ†æ
ä» `backend.log` å¯ä»¥çœ‹å‡ºï¼š
1. **æœåŠ¡å¯åŠ¨æˆåŠŸ**: Flaskåº”ç”¨åˆ›å»ºå®Œæˆï¼ŒæœåŠ¡åœ¨127.0.0.1:5000å¯åŠ¨
2. **APIè°ƒç”¨æ­£å¸¸**: å¥åº·æ£€æŸ¥ã€æ•°æ®ä¸Šä¼ ã€ç¬¦å·å›å½’åˆ†æéƒ½æœ‰æˆåŠŸè®°å½•
3. **æ•°æ®å¤„ç†èƒ½åŠ›**: æˆåŠŸå¤„ç†äº†60è¡Œ22åˆ—çš„æ•°æ®
4. **ç®—æ³•æ‰§è¡Œ**: ç¬¦å·å›å½’åˆ†æå®Œæˆï¼ŒRÂ² = 0.82

#### ğŸ” å®æ—¶æµ‹è¯•ç»“æœ
```bash
# å¥åº·æ£€æŸ¥APIæµ‹è¯•
curl http://127.0.0.1:5000/api/health
# è¿”å›: {"service":"ä¸­è¯å¤šç»„åˆ†å‡åŒ–åˆ†æåç«¯","status":"healthy","version":"1.0.0"}

# æ ¹è·¯å¾„APIæµ‹è¯•
curl http://127.0.0.1:5000/
# è¿”å›: {"endpoints":{"data":"/api/data","health":"/api/health","monte_carlo":"/api/monte-carlo","regression":"/api/regression"},"message":"ä¸­è¯å¤šç»„åˆ†å‡åŒ–åˆ†æåç«¯æœåŠ¡","version":"1.0.0"}
```

### 2. å‰ç«¯åº”ç”¨çŠ¶æ€

#### âš ï¸ å‰ç«¯å­˜åœ¨é€šä¿¡é—®é¢˜
ä» `frontend.log` å¯ä»¥çœ‹å‡ºï¼š
1. **åç«¯å¯åŠ¨å¤±è´¥**: "Address already in use" - ç«¯å£5000è¢«å ç”¨
2. **SSLé”™è¯¯**: å­˜åœ¨SSLæ¡æ‰‹å¤±è´¥çš„é”™è¯¯
3. **è¿›ç¨‹é€€å‡º**: åç«¯è¿›ç¨‹å¼‚å¸¸é€€å‡ºï¼Œé”™è¯¯ä»£ç 1

**æ³¨æ„**: è¿™äº›æ˜¯ä¹‹å‰çš„æ—¥å¿—è®°å½•ï¼Œå½“å‰åç«¯æœåŠ¡å·²ç»æ­£å¸¸è¿è¡Œã€‚

## ğŸ” é€šä¿¡æœºåˆ¶è¯¦ç»†åˆ†æ

### 1. æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTP/REST API    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Electron      â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   Flask         â”‚
â”‚   Frontend      â”‚                     â”‚   Backend       â”‚
â”‚                 â”‚                     â”‚                 â”‚
â”‚  - ç”¨æˆ·ç•Œé¢     â”‚                     â”‚  - ç®—æ³•å¼•æ“     â”‚
â”‚  - æ•°æ®å±•ç¤º     â”‚                     â”‚  - æ•°æ®å¤„ç†     â”‚
â”‚  - äº¤äº’æ§åˆ¶     â”‚                     â”‚  - APIæœåŠ¡      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. é€šä¿¡åè®®

#### HTTP REST API
- **åè®®**: HTTP/1.1
- **æ•°æ®æ ¼å¼**: JSON
- **CORSé…ç½®**: å…è®¸localhost:3000å’Œ127.0.0.1:3000
- **è®¤è¯**: æ— ï¼ˆå¼€å‘ç¯å¢ƒï¼‰

#### APIç«¯ç‚¹
```
GET  /api/health           - å¥åº·æ£€æŸ¥ âœ… æ­£å¸¸
GET  /                     - æ ¹è·¯å¾„ âœ… æ­£å¸¸
POST /api/data/upload      - æ•°æ®ä¸Šä¼ 
POST /api/regression/analyze - ç¬¦å·å›å½’åˆ†æ
POST /api/monte-carlo/analyze - è’™ç‰¹å¡ç½—åˆ†æ
```

### 3. å‰ç«¯é€šä¿¡å®ç°

#### IPCé€šä¿¡ï¼ˆElectronå†…éƒ¨ï¼‰
```javascript
// main.js - ä¸»è¿›ç¨‹
ipcMain.handle('start-backend', async () => {
  const pythonProcess = spawn('python', ['../backend/main.py']);
  return { success: true, pid: pythonProcess.pid };
});

// renderer.js - æ¸²æŸ“è¿›ç¨‹
async function startBackendService() {
  const result = await window.electronAPI.startBackend();
  if (result.success) {
    updateConnectionStatus('å·²è¿æ¥');
  }
}
```

#### HTTP APIè°ƒç”¨ï¼ˆå‰ç«¯åˆ°åç«¯ï¼‰
```javascript
// æ¨¡æ‹ŸAPIè°ƒç”¨ï¼ˆå½“å‰å®ç°ï¼‰
async function performSymbolicRegression(params) {
  // æ¨¡æ‹ŸAPIè°ƒç”¨
  await new Promise(resolve => setTimeout(resolve, 2000));
  
  // æ¨¡æ‹Ÿç»“æœ
  return {
    id: Date.now(),
    expression: `${params.featureColumns[0]} * 0.5 + ${params.featureColumns[1]} * 0.3 + 0.1`,
    r2: 0.85,
    // ...
  };
}
```

### 4. åç«¯APIå®ç°

#### Flaskåº”ç”¨ç»“æ„
```python
# app.py
def create_app(config=None):
    app = Flask(__name__)
    CORS(app, resources={r"/api/*": {...}})
    
    # æ³¨å†Œè“å›¾
    app.register_blueprint(symbolic_regression_bp, url_prefix='/api/regression')
    app.register_blueprint(monte_carlo_bp, url_prefix='/api/monte-carlo')
    app.register_blueprint(data_bp, url_prefix='/api/data')
    
    return app
```

#### è·¯ç”±å¤„ç†
```python
# routes.py
@symbolic_regression_bp.route('/analyze', methods=['POST'])
def analyze():
    data = request.get_json()
    result = regression_engine.analyze(
        data=data['data'],
        target_column=data['target_column'],
        feature_columns=data['feature_columns']
    )
    return jsonify({'success': True, 'result': result})
```

## ğŸš¨ å‘ç°çš„é—®é¢˜

### 1. å‰ç«¯æ¨¡æ‹Ÿå®ç°
**é—®é¢˜**: å‰ç«¯ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®è€ŒéçœŸå®APIè°ƒç”¨
**åŸå› **: å½“å‰renderer.jsä¸­çš„APIè°ƒç”¨éƒ½æ˜¯æ¨¡æ‹Ÿçš„
**å½±å“**: æ— æ³•ä¸çœŸå®åç«¯é€šä¿¡
**çŠ¶æ€**: âš ï¸ éœ€è¦ä¿®å¤

### 2. SSLé”™è¯¯
**é—®é¢˜**: å­˜åœ¨SSLæ¡æ‰‹å¤±è´¥é”™è¯¯
**åŸå› **: å¯èƒ½æ˜¯Electronçš„ç½‘ç»œå®‰å…¨ç­–ç•¥
**å½±å“**: å¯èƒ½å½±å“HTTPSè¯·æ±‚
**çŠ¶æ€**: âš ï¸ éœ€è¦è°ƒæŸ¥

### 3. è¿›ç¨‹ç®¡ç†é—®é¢˜
**é—®é¢˜**: å‰ç«¯å¯åŠ¨åç«¯è¿›ç¨‹æ—¶å¯èƒ½å‡ºç°å†²çª
**åŸå› **: ç«¯å£å ç”¨æˆ–è¿›ç¨‹ç®¡ç†ä¸å½“
**å½±å“**: å‰ç«¯æ— æ³•è¿æ¥åˆ°åç«¯æœåŠ¡
**çŠ¶æ€**: âœ… å·²è§£å†³ï¼ˆåç«¯ç‹¬ç«‹è¿è¡Œï¼‰

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### 1. ä¿®å¤å‰ç«¯APIè°ƒç”¨

```javascript
// æ›¿æ¢æ¨¡æ‹ŸAPIè°ƒç”¨ä¸ºçœŸå®è°ƒç”¨
async function performSymbolicRegression(params) {
  try {
    const response = await fetch('http://127.0.0.1:5000/api/regression/analyze', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(params)
    });
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    return await response.json();
  } catch (error) {
    console.error('APIè°ƒç”¨å¤±è´¥:', error);
    throw error;
  }
}
```

### 2. æ”¹è¿›è¿›ç¨‹ç®¡ç†

```javascript
// åœ¨main.jsä¸­æ·»åŠ æ›´å¥½çš„è¿›ç¨‹ç®¡ç†
let backendProcess = null;

function startBackend() {
  if (backendProcess) {
    console.log('åç«¯è¿›ç¨‹å·²å­˜åœ¨');
    return;
  }
  
  backendProcess = spawn('python', ['../backend/main.py'], {
    stdio: ['pipe', 'pipe', 'pipe']
  });
  
  backendProcess.on('close', (code) => {
    console.log('åç«¯è¿›ç¨‹é€€å‡º:', code);
    backendProcess = null;
  });
  
  backendProcess.on('error', (error) => {
    console.error('åç«¯è¿›ç¨‹é”™è¯¯:', error);
    backendProcess = null;
  });
}
```

### 3. æ·»åŠ å¥åº·æ£€æŸ¥

```javascript
// å®šæœŸæ£€æŸ¥åç«¯çŠ¶æ€
async function checkBackendHealth() {
  try {
    const response = await fetch('http://127.0.0.1:5000/api/health');
    return response.ok;
  } catch (error) {
    return false;
  }
}

// åœ¨åº”ç”¨å¯åŠ¨æ—¶æ£€æŸ¥
setInterval(async () => {
  const isHealthy = await checkBackendHealth();
  updateConnectionStatus(isHealthy ? 'å·²è¿æ¥' : 'è¿æ¥å¤±è´¥');
}, 5000);
```

## ğŸ“ˆ æ€§èƒ½åˆ†æ

### 1. åç«¯æ€§èƒ½
- **å¯åŠ¨æ—¶é—´**: ~2ç§’
- **APIå“åº”æ—¶é—´**: å¥åº·æ£€æŸ¥ < 100ms
- **æ•°æ®å¤„ç†èƒ½åŠ›**: 60è¡Œ22åˆ—æ•°æ®ï¼Œå¤„ç†æ—¶é—´ < 1ç§’
- **ç®—æ³•æ€§èƒ½**: ç¬¦å·å›å½’RÂ² = 0.82ï¼Œæ‰§è¡Œæ—¶é—´ ~5ç§’

### 2. å‰ç«¯æ€§èƒ½
- **å¯åŠ¨æ—¶é—´**: ~3ç§’ï¼ˆåŒ…å«åç«¯å¯åŠ¨ï¼‰
- **UIå“åº”**: å³æ—¶
- **æ•°æ®åŠ è½½**: æ¨¡æ‹Ÿæ•°æ®ï¼Œæ— å®é™…ç½‘ç»œå»¶è¿Ÿ

### 3. é€šä¿¡æ•ˆç‡
- **åè®®**: HTTP REST APIï¼Œæ•ˆç‡è‰¯å¥½
- **æ•°æ®æ ¼å¼**: JSONï¼Œå…¼å®¹æ€§å¥½
- **CORS**: å·²é…ç½®ï¼Œæ”¯æŒè·¨åŸŸè¯·æ±‚

## ğŸ¯ æ”¹è¿›å»ºè®®

### 1. çŸ­æœŸæ”¹è¿›
- [x] ä¿®å¤ç«¯å£å†²çªé—®é¢˜ âœ… å·²è§£å†³
- [ ] å®ç°çœŸå®APIè°ƒç”¨ âš ï¸ éœ€è¦ä¿®å¤
- [ ] æ·»åŠ é”™è¯¯é‡è¯•æœºåˆ¶
- [ ] æ”¹è¿›è¿›ç¨‹ç®¡ç†

### 2. ä¸­æœŸæ”¹è¿›
- [ ] æ·»åŠ APIè®¤è¯æœºåˆ¶
- [ ] å®ç°WebSocketå®æ—¶é€šä¿¡
- [ ] æ·»åŠ è¯·æ±‚ç¼“å­˜
- [ ] ä¼˜åŒ–æ•°æ®ä¼ è¾“æ ¼å¼

### 3. é•¿æœŸæ”¹è¿›
- [ ] å®ç°å¾®æœåŠ¡æ¶æ„
- [ ] æ·»åŠ è´Ÿè½½å‡è¡¡
- [ ] å®ç°åˆ†å¸ƒå¼éƒ¨ç½²
- [ ] æ·»åŠ ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ

## ğŸ“‹ æµ‹è¯•å»ºè®®

### 1. å•å…ƒæµ‹è¯•
```python
# æµ‹è¯•åç«¯API
def test_health_check():
    response = client.get('/api/health')
    assert response.status_code == 200
    assert response.json['status'] == 'healthy'
```

### 2. é›†æˆæµ‹è¯•
```javascript
// æµ‹è¯•å‰åç«¯é€šä¿¡
async function testBackendCommunication() {
  const response = await fetch('http://127.0.0.1:5000/api/health');
  assert(response.ok);
}
```

### 3. ç«¯åˆ°ç«¯æµ‹è¯•
- å¯åŠ¨å®Œæ•´åº”ç”¨
- ä¸Šä¼ æµ‹è¯•æ•°æ®
- æ‰§è¡Œç¬¦å·å›å½’åˆ†æ
- éªŒè¯ç»“æœæ­£ç¡®æ€§

## ğŸ“Š æ€»ç»“

### âœ… ä¼˜åŠ¿
1. **æ¶æ„æ¸…æ™°**: å‰åç«¯åˆ†ç¦»ï¼ŒèŒè´£æ˜ç¡®
2. **æŠ€æœ¯æ ˆæˆç†Ÿ**: Flask + Electronï¼Œç¨³å®šæ€§å¥½
3. **APIè®¾è®¡åˆç†**: RESTful APIï¼Œæ˜“äºæ‰©å±•
4. **æ—¥å¿—å®Œå–„**: è¯¦ç»†çš„æ—¥å¿—è®°å½•ï¼Œä¾¿äºè°ƒè¯•
5. **åç«¯ç¨³å®š**: åç«¯æœåŠ¡è¿è¡Œæ­£å¸¸ï¼ŒAPIå“åº”è‰¯å¥½

### âš ï¸ é—®é¢˜
1. **å‰ç«¯æ¨¡æ‹Ÿ**: å‰ç«¯APIè°ƒç”¨éœ€è¦æ”¹ä¸ºçœŸå®å®ç°
2. **é”™è¯¯å¤„ç†**: éœ€è¦æ”¹è¿›é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
3. **è¿›ç¨‹ç®¡ç†**: éœ€è¦æ›´å¥½çš„è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸç®¡ç†

### ğŸ¯ ä¼˜å…ˆçº§
1. **é«˜ä¼˜å…ˆçº§**: å®ç°çœŸå®APIè°ƒç”¨
2. **ä¸­ä¼˜å…ˆçº§**: æ”¹è¿›é”™è¯¯å¤„ç†ï¼Œæ·»åŠ å¥åº·æ£€æŸ¥
3. **ä½ä¼˜å…ˆçº§**: æ€§èƒ½ä¼˜åŒ–ï¼Œæ¶æ„æ”¹è¿›

## ğŸ”„ å½“å‰çŠ¶æ€

### âœ… æ­£å¸¸è¿è¡Œ
- åç«¯æœåŠ¡: `http://127.0.0.1:5000` âœ…
- å¥åº·æ£€æŸ¥API: `/api/health` âœ…
- æ ¹è·¯å¾„API: `/` âœ…
- è¿›ç¨‹ç®¡ç†: ç‹¬ç«‹è¿è¡Œ âœ…

### âš ï¸ éœ€è¦ä¿®å¤
- å‰ç«¯APIè°ƒç”¨: æ¨¡æ‹Ÿå®ç° â†’ çœŸå®è°ƒç”¨
- é”™è¯¯å¤„ç†: éœ€è¦æ”¹è¿›
- å¥åº·æ£€æŸ¥: éœ€è¦åœ¨å‰ç«¯å®ç°

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-08-03 19:01:00  
**åˆ†æçŠ¶æ€**: å®Œæˆ  
**å»ºè®®è¡ŒåŠ¨**: ç«‹å³ä¿®å¤å‰ç«¯APIè°ƒç”¨ï¼Œå®ç°ä¸åç«¯çš„çœŸå®é€šä¿¡ 